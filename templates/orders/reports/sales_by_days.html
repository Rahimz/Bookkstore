{% extends "_base.html" %}

{% load i18n %}

{% load static %}

{% load humanize %}

{% load crispy_forms_tags %}

{% block title %}{% trans 'Reports' %}{% endblock %}

{% block reports-btn %}btn-secondary text-dark{% endblock %}

{% block content %}
<div class="container-fluid overflow-hidden">
  <div class="row">
    <div class="col-md-2">
      {% include "staff/sidebar_staff.html" with barName="reports" %}
    </div>
    <div class="col-md-10">
      <h2>{% trans 'Reports' %}</h2>
      <div class="">
        <p>
          {% trans 'Esfand' %}:
          <a href="{% url 'orders:sales_by_date' date='06032022' %}" class="btn btn-sm btn-outline-secondary">15</a>
          <a href="{% url 'orders:sales_by_date' date='05032022' %}" class="btn btn-sm btn-outline-secondary">14</a>
          <a href="{% url 'orders:sales_by_date' date='04032022' %}" class="btn btn-sm btn-outline-secondary">13</a>
          <a href="{% url 'orders:sales_by_date' date='03032022' %}" class="btn btn-sm btn-outline-secondary">12</a>
          <a href="{% url 'orders:sales_by_date' date='02032022' %}" class="btn btn-sm btn-outline-secondary">11</a>
          <a href="{% url 'orders:sales_by_date' date='01032022' %}" class="btn btn-sm btn-outline-secondary">10</a>
          <a href="{% url 'orders:sales_by_date' date='28022022' %}" class="btn btn-sm btn-outline-secondary">9</a>
          <a href="{% url 'orders:sales_by_date' date='27022022' %}" class="btn btn-sm btn-outline-secondary">8</a>
          <a href="{% url 'orders:sales_by_date' date='26022022' %}" class="btn btn-sm btn-outline-secondary">7</a>
          <a href="{% url 'orders:sales_by_date' date='25022022' %}" class="btn btn-sm btn-outline-secondary">6</a>
          <a href="{% url 'orders:sales_by_date' date='24022022' %}" class="btn btn-sm btn-outline-secondary">5</a>
          <a href="{% url 'orders:sales_by_date' date='23022022' %}" class="btn btn-sm btn-outline-secondary">4</a>
          <a href="{% url 'orders:sales_by_date' date='22022022' %}" class="btn btn-sm btn-outline-secondary">3</a>
          <a href="{% url 'orders:sales_by_date' date='21022022' %}" class="btn btn-sm btn-outline-secondary">2</a>
          <a href="{% url 'orders:sales_by_date' date='20022022' %}" class="btn btn-sm btn-outline-secondary">1</a>

        </p>
      </div>
      <div class="my-3">
        <h3 class="mt-3 border border-warning rounded p-2">{% trans 'Sales' %}: {{ fa_date}}</h3>
        <table class="table table-striped">
          <thead>

            <tr>
              <th>All</th>
              <th>Quantity</th>
              <th>Approved</th>
              <th>Quantity</th>
              <th>Draft</th>
              <th>Quantity</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>{% if orders_all_date.total %}{{ orders_all_date.total | intcomma:False}}{% else %}0{% endif %}</td>
              <td>{% if orders_all_date.total_quantity %}{{ orders_all_date.total_quantity }}{% else %}0{% endif %}</td>
              <td>{% if orders_approved_date.total %}{{ orders_approved_date.total | intcomma:False}}{% else %}0{% endif %}</td>
              <td>{% if orders_approved_date.total_quantity %}{{ orders_approved_date.total_quantity }}{% else %}0{% endif %}</td>
              <td>{% if orders_draft_date.total %}{{ orders_draft_date.total | intcomma:False}}{% else %}0{% endif %}</td>
              <td>{% if orders_draft_date.total_quantity %}{{ orders_draft_date.total_quantity }}{% else %}0{% endif %}</td>
            </tr>

          </tbody>
        </table>

        <table class="table">

          <tfoot>
            <tr>
              <td class="bg-success text-light fs-5"><span>All sales</span></td>
              <td class="bg-success text-light fs-5"><span>{{ order_all.total_sales | intcomma:False }}</span> {% trans 'Rial' %}</td>

              <td class="bg-success text-light fs-5">{% if order_all.total_quantity %}{{ order_all.total_quantity }}{% else %}0{% endif %}</td>
            </tr>

            <tr>
              <td>Approved sales</td>
              <td><b>{{ order_approved.total_sales | intcomma:False }}</b> {% trans 'Rial' %}</td>
              <td>{% if order_approved.total_quantity %}{{ order_approved.total_quantity }}{% else %}0{% endif %}</td>
            </tr>
            <tr>
              <td>Draft sales</td>
              <td><b>{{ order_draft.total_sales | intcomma:False }}</b> {% trans 'Rial' %}</td>
              <td>{% if order_draft.total_quantity %}{{ order_draft.total_quantity }}{% else %}0{% endif %}</td>
            </tr>
          </tfoot>
        </table>


        <h3 class="mt-5 border border-warning rounded p-2">{% trans 'Sales by product type' %}: {{ fa_date}}</h3>
        <table class="table table-striped">
          <thead>

            <tr>
              <th>All</th>
              <th>Quantity</th>
              <th>Book</th>
              <th>Quantity</th>
              <th>Craft</th>
              <th>Quantity</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>{% if orderline_all_date.total %}{{ orderline_all_date.total | intcomma:False}}{% else %}0{% endif %}</td>
              <td>{% if orderline_all_date.total_quantity %}{{ orderline_all_date.total_quantity }}{% else %}0{% endif %}</td>
              <td>{% if orders_book_date.total %}{{ orders_book_date.total | intcomma:False}}{% else %}0{% endif %}</td>
              <td>{% if orders_book_date.total_quantity %}{{ orders_book_date.total_quantity }}{% else %}0{% endif %}</td>
              <td>{% if orders_craft_date.total %}{{ orders_craft_date.total | intcomma:False}}{% else %}0{% endif %}</td>
              <td>{% if orders_craft_date.total_quantity %}{{ orders_craft_date.total_quantity }}{% else %}0{% endif %}</td>
            </tr>

          </tbody>
        </table>
        <table class="table">

          <tfoot>
            <tr>
              <td class="bg-success text-light fs-5"><span>All sales</span></td>
              <td class="bg-success text-light fs-5"><span>{{ orderline_all.total | intcomma:False }}</span> {% trans 'Rial' %}</td>

              <td class="bg-success text-light fs-5">{% if orderline_all.total_quantity %}{{ orderline_all.total_quantity }}{% else %}0{% endif %}</td>
            </tr>

            <tr>
              <td>Book sales</td>
              <td><b>{{ orders_book.total | intcomma:False }}</b> {% trans 'Rial' %}</td>
              <td>{% if orders_book.total_quantity %}{{ orders_book.total_quantity }}{% else %}0{% endif %}</td>
            </tr>
            <tr>
              <td>Craft sales</td>
              <td><b>{{ orders_craft.total | intcomma:False }}</b> {% trans 'Rial' %}</td>
              <td>{% if orders_craft.total_quantity %}{{ orders_craft.total_quantity }}{% else %}0{% endif %}</td>
            </tr>
          </tfoot>
        </table>
      </div>

      <div class="row">
        <h3>Payment report</h3>
        <table class=" table">
          <tbody>
            <tr>
              <td>paid:</td>
              <td>{{ paid.total_amount | intcomma:False }}</td>

            </tr>
            <tr>

              <td>pended:</td>
              <td> {{ pended.total_amount | intcomma:False }}</td>
            </tr>
          </tbody>
          <tfoot>
            <tr>
              <td>all_payment:</td>
              <td>{{all_payment.total_amount | intcomma:False }}</td>
            </tr>

          </tfoot>
        </table>
      </div>


    </div>

  </div>
  {% endblock %}
