{% extends "_base.html" %}

{% load i18n %}

{% load static %}

{% load humanize %}

{% load crispy_forms_tags %}

{% block title %}{% trans 'Reports' %}{% endblock %}

{% block reports-btn %}btn-secondary text-dark{% endblock %}

{% block content %}
<div class="container-fluid overflow-hidden">
  <div class="row">
    <div class="col-md-2">
      {% include "staff/sidebar_staff.html" with barName="reports" %}
    </div>
    <div class="col-md-10">
      <h2>{% trans 'Reports' %}</h2>
      <div class="">
        <p>
          {% trans 'Farvardin' %}:
          <a href="{% url 'orders:sales_by_date' date='20220420' %}" class="btn btn-sm {% if date_raw == "20220420" %}btn-success{% else %}btn-outline-secondary{% endif %}">31</a>
          <a href="{% url 'orders:sales_by_date' date='20220419' %}" class="btn btn-sm {% if date_raw == "20220419" %}btn-success{% else %}btn-outline-secondary{% endif %}">30</a>
          <a href="{% url 'orders:sales_by_date' date='20220418' %}" class="btn btn-sm {% if date_raw == "20220418" %}btn-success{% else %}btn-outline-secondary{% endif %}">29</a>
          <a href="{% url 'orders:sales_by_date' date='20220417' %}" class="btn btn-sm {% if date_raw == "20220417" %}btn-success{% else %}btn-outline-secondary{% endif %}">28</a>
          <a href="{% url 'orders:sales_by_date' date='20220416' %}" class="btn btn-sm {% if date_raw == "20220416" %}btn-success{% else %}btn-outline-secondary{% endif %}">27</a>
          <a href="{% url 'orders:sales_by_date' date='20220415' %}" class="btn btn-sm {% if date_raw == "20220415" %}btn-success{% else %}btn-outline-secondary{% endif %}">26</a>
          <a href="{% url 'orders:sales_by_date' date='20220414' %}" class="btn btn-sm {% if date_raw == "20220414" %}btn-success{% else %}btn-outline-secondary{% endif %}">25</a>
          <a href="{% url 'orders:sales_by_date' date='20220413' %}" class="btn btn-sm {% if date_raw == "20220413" %}btn-success{% else %}btn-outline-secondary{% endif %}">24</a>
          <a href="{% url 'orders:sales_by_date' date='20220412' %}" class="btn btn-sm {% if date_raw == "20220412" %}btn-success{% else %}btn-outline-secondary{% endif %}">23</a>
          <a href="{% url 'orders:sales_by_date' date='20220411' %}" class="btn btn-sm {% if date_raw == "20220411" %}btn-success{% else %}btn-outline-secondary{% endif %}">22</a>
          <a href="{% url 'orders:sales_by_date' date='20220410' %}" class="btn btn-sm {% if date_raw == "20220410" %}btn-success{% else %}btn-outline-secondary{% endif %}">21</a>
          <a href="{% url 'orders:sales_by_date' date='20220409' %}" class="btn btn-sm {% if date_raw == "20220409" %}btn-success{% else %}btn-outline-secondary{% endif %}">20</a>
          <a href="{% url 'orders:sales_by_date' date='20220408' %}" class="btn btn-sm {% if date_raw == "20220408" %}btn-success{% else %}btn-outline-secondary{% endif %}">19</a>
          <a href="{% url 'orders:sales_by_date' date='20220407' %}" class="btn btn-sm {% if date_raw == "20220407" %}btn-success{% else %}btn-outline-secondary{% endif %}">18</a>
          <a href="{% url 'orders:sales_by_date' date='20220406' %}" class="btn btn-sm {% if date_raw == "20220406" %}btn-success{% else %}btn-outline-secondary{% endif %}">17</a>
          <a href="{% url 'orders:sales_by_date' date='20220405' %}" class="btn btn-sm {% if date_raw == "20220405" %}btn-success{% else %}btn-outline-secondary{% endif %}">16</a>
          <a href="{% url 'orders:sales_by_date' date='20220404' %}" class="btn btn-sm {% if date_raw == "20220404" %}btn-success{% else %}btn-outline-secondary{% endif %}">15</a>
          <a href="{% url 'orders:sales_by_date' date='20220403' %}" class="btn btn-sm {% if date_raw == "20220403" %}btn-success{% else %}btn-outline-secondary{% endif %}">14</a>
          <a href="{% url 'orders:sales_by_date' date='20220402' %}" class="btn btn-sm {% if date_raw == "20220402" %}btn-success{% else %}btn-outline-secondary{% endif %}">13</a>
          <a href="{% url 'orders:sales_by_date' date='20220401' %}" class="btn btn-sm {% if date_raw == "20220401" %}btn-success{% else %}btn-outline-secondary{% endif %}">12</a>
          <a href="{% url 'orders:sales_by_date' date='20220331' %}" class="btn btn-sm {% if date_raw == "20220331" %}btn-success{% else %}btn-outline-secondary{% endif %}">11</a>
          <a href="{% url 'orders:sales_by_date' date='20220330' %}" class="btn btn-sm {% if date_raw == "20220330" %}btn-success{% else %}btn-outline-secondary{% endif %}">10</a>
          <a href="{% url 'orders:sales_by_date' date='20220329' %}" class="btn btn-sm {% if date_raw == "20220329" %}btn-success{% else %}btn-outline-secondary{% endif %}">9</a>
          <a href="{% url 'orders:sales_by_date' date='20220328' %}" class="btn btn-sm {% if date_raw == "20220328" %}btn-success{% else %}btn-outline-secondary{% endif %}">8</a>
          <a href="{% url 'orders:sales_by_date' date='20220327' %}" class="btn btn-sm {% if date_raw == "20220327" %}btn-success{% else %}btn-outline-secondary{% endif %}">7</a>
          <a href="{% url 'orders:sales_by_date' date='20220326' %}" class="btn btn-sm {% if date_raw == "20220326" %}btn-success{% else %}btn-outline-secondary{% endif %}">6</a>
          <a href="{% url 'orders:sales_by_date' date='20220325' %}" class="btn btn-sm {% if date_raw == "20220325" %}btn-success{% else %}btn-outline-secondary{% endif %}">5</a>
          <a href="{% url 'orders:sales_by_date' date='20220324' %}" class="btn btn-sm {% if date_raw == "20220324" %}btn-success{% else %}btn-outline-secondary{% endif %}">4</a>
          <a href="{% url 'orders:sales_by_date' date='20220323' %}" class="btn btn-sm {% if date_raw == "20220323" %}btn-success{% else %}btn-outline-secondary{% endif %}">3</a>
          <a href="{% url 'orders:sales_by_date' date='20220322' %}" class="btn btn-sm {% if date_raw == "20220322" %}btn-success{% else %}btn-outline-secondary{% endif %}">2</a>
          <a href="{% url 'orders:sales_by_date' date='20220321' %}" class="btn btn-sm {% if date_raw == "20220321" %}btn-success{% else %}btn-outline-secondary{% endif %}">1</a>
          {% if date_raw == "20220321" %}{{ date_raw }}{% endif %}

        </p>
        <p>
          {% trans 'Esfand' %}:
          <a href="{% url 'orders:sales_by_date' date='20220320' %}" class="btn btn-sm {% if date_raw == "20220320" %}btn-success{% else %}btn-outline-secondary{% endif %}">29</a>
          <a href="{% url 'orders:sales_by_date' date='20220319' %}" class="btn btn-sm {% if date_raw == "20220319" %}btn-success{% else %}btn-outline-secondary{% endif %}">28</a>
          <a href="{% url 'orders:sales_by_date' date='20220318' %}" class="btn btn-sm {% if date_raw == "20220318" %}btn-success{% else %}btn-outline-secondary{% endif %}">27</a>
          <a href="{% url 'orders:sales_by_date' date='20220317' %}" class="btn btn-sm {% if date_raw == "20220317" %}btn-success{% else %}btn-outline-secondary{% endif %}">26</a>
          <a href="{% url 'orders:sales_by_date' date='20220316' %}" class="btn btn-sm {% if date_raw == "20220316" %}btn-success{% else %}btn-outline-secondary{% endif %}">25</a>
          <a href="{% url 'orders:sales_by_date' date='20220315' %}" class="btn btn-sm {% if date_raw == "20220315" %}btn-success{% else %}btn-outline-secondary{% endif %}">24</a>
          <a href="{% url 'orders:sales_by_date' date='20220314' %}" class="btn btn-sm {% if date_raw == "20220314" %}btn-success{% else %}btn-outline-secondary{% endif %}">23</a>
          <a href="{% url 'orders:sales_by_date' date='20220313' %}" class="btn btn-sm {% if date_raw == "20220313" %}btn-success{% else %}btn-outline-secondary{% endif %}">22</a>
          <a href="{% url 'orders:sales_by_date' date='20220312' %}" class="btn btn-sm {% if date_raw == "20220312" %}btn-success{% else %}btn-outline-secondary{% endif %}">21</a>
          <a href="{% url 'orders:sales_by_date' date='20220311' %}" class="btn btn-sm {% if date_raw == "20220311" %}btn-success{% else %}btn-outline-secondary{% endif %}">20</a>
          <a href="{% url 'orders:sales_by_date' date='20220310' %}" class="btn btn-sm {% if date_raw == "20220310" %}btn-success{% else %}btn-outline-secondary{% endif %}">19</a>
          <a href="{% url 'orders:sales_by_date' date='20220309' %}" class="btn btn-sm {% if date_raw == "20220309" %}btn-success{% else %}btn-outline-secondary{% endif %}">18</a>
          <a href="{% url 'orders:sales_by_date' date='20220308' %}" class="btn btn-sm {% if date_raw == "20220308" %}btn-success{% else %}btn-outline-secondary{% endif %}">17</a>
          <a href="{% url 'orders:sales_by_date' date='20220307' %}" class="btn btn-sm {% if date_raw == "20220307" %}btn-success{% else %}btn-outline-secondary{% endif %}">16</a>
          <a href="{% url 'orders:sales_by_date' date='20220306' %}" class="btn btn-sm {% if date_raw == "20220306" %}btn-success{% else %}btn-outline-secondary{% endif %}">15</a>
          <a href="{% url 'orders:sales_by_date' date='20220305' %}" class="btn btn-sm {% if date_raw == "20220305" %}btn-success{% else %}btn-outline-secondary{% endif %}">14</a>
          <a href="{% url 'orders:sales_by_date' date='20220304' %}" class="btn btn-sm {% if date_raw == "20220304" %}btn-success{% else %}btn-outline-secondary{% endif %}">13</a>
          <a href="{% url 'orders:sales_by_date' date='20220303' %}" class="btn btn-sm {% if date_raw == "20220303" %}btn-success{% else %}btn-outline-secondary{% endif %}">12</a>
          <a href="{% url 'orders:sales_by_date' date='20220302' %}" class="btn btn-sm {% if date_raw == "20220302" %}btn-success{% else %}btn-outline-secondary{% endif %}">11</a>
          <a href="{% url 'orders:sales_by_date' date='20220301' %}" class="btn btn-sm {% if date_raw == "20220301" %}btn-success{% else %}btn-outline-secondary{% endif %}">10</a>
          <a href="{% url 'orders:sales_by_date' date='20220228' %}" class="btn btn-sm {% if date_raw == "20220228" %}btn-success{% else %}btn-outline-secondary{% endif %}">9</a>
          <a href="{% url 'orders:sales_by_date' date='20220227' %}" class="btn btn-sm {% if date_raw == "20220227" %}btn-success{% else %}btn-outline-secondary{% endif %}">8</a>
          <a href="{% url 'orders:sales_by_date' date='20220226' %}" class="btn btn-sm {% if date_raw == "20220226" %}btn-success{% else %}btn-outline-secondary{% endif %}">7</a>
          <a href="{% url 'orders:sales_by_date' date='20220225' %}" class="btn btn-sm {% if date_raw == "20220225" %}btn-success{% else %}btn-outline-secondary{% endif %}">6</a>
          <a href="{% url 'orders:sales_by_date' date='20220224' %}" class="btn btn-sm {% if date_raw == "20220224" %}btn-success{% else %}btn-outline-secondary{% endif %}">5</a>
          <a href="{% url 'orders:sales_by_date' date='20220223' %}" class="btn btn-sm {% if date_raw == "20220223" %}btn-success{% else %}btn-outline-secondary{% endif %}">4</a>
          <a href="{% url 'orders:sales_by_date' date='20220222' %}" class="btn btn-sm {% if date_raw == "20220222" %}btn-success{% else %}btn-outline-secondary{% endif %}">3</a>
          <a href="{% url 'orders:sales_by_date' date='20220221' %}" class="btn btn-sm {% if date_raw == "20220221" %}btn-success{% else %}btn-outline-secondary{% endif %}">2</a>
          <a href="{% url 'orders:sales_by_date' date='20220220' %}" class="btn btn-sm {% if date_raw == "20220220" %}btn-success{% else %}btn-outline-secondary{% endif %}">1</a>
        </p>

      </div>
      <div class="my-3 row">
        <h3 class="mt-3 border border-warning rounded p-2">{% trans 'Sales' %}: {% if fa_date %}{{ fa_date}}{% endif %}</h3>
        <table class="table table-striped">
          <thead>

            <tr>`
              <th>{% trans 'Approved' %}</th>
              <th>{% trans 'Quantity' %}</th>
              <th>{% trans 'Draft' %}</th>
              <th>{% trans 'Quantity' %}</th>
              <th>{% trans 'All in day' %}</th>
              <th>{% trans 'Quantity' %}</th>

            </tr>
          </thead>
          <tbody>
            <tr>
              <td>{% if orders_approved_date.total %}{{ orders_approved_date.total | intcomma:False}}{% else %}0{% endif %}</td>
              <td>{% if orders_approved_date.total_quantity %}{{ orders_approved_date.total_quantity }}{% else %}0{% endif %}</td>
              <td>{% if orders_draft_date.total %}{{ orders_draft_date.total | intcomma:False}}{% else %}0{% endif %}</td>
              <td>{% if orders_draft_date.total_quantity %}{{ orders_draft_date.total_quantity }}{% else %}0{% endif %}</td>
              <td>{% if orders_all_date.total %}{{ orders_all_date.total | intcomma:False}}{% else %}0{% endif %}</td>
              <td>{% if orders_all_date.total_quantity %}{{ orders_all_date.total_quantity }}{% else %}0{% endif %}</td>

            </tr>
          </tbody>
        </table>
        <p></p>
        <table class="table table-responsive table-striped">

          <thead>
            <th>{% trans 'Paid' %}</th>
            <th>{% trans 'Quantity' %}</th>
            <th>{% trans 'Un-Paid' %}</th>
            <th>{% trans 'Quantity' %}</th>
            <th>{% trans 'All in day' %}</th>
            <th>{% trans 'Quantity' %}</th>
          </thead>
          <tbody>
            <tr>

              <td>{% if orders_paid_date.total %}{{ orders_paid_date.total | intcomma:False}}{% else %}0{% endif %}</td>
              <td>{% if orders_paid_date.total_quantity %}{{ orders_paid_date.total_quantity }}{% else %}0{% endif %}</td>
              <td>{% if orders_unpaid_date.total %}{{ orders_unpaid_date.total | intcomma:False}}{% else %}0{% endif %}</td>
              <td>{% if orders_unpaid_date.total_quantity %}{{ orders_unpaid_date.total_quantity }}{% else %}0{% endif %}</td>
              <td>{% if orders_all_date.total %}{{ orders_all_date.total | intcomma:False}}{% else %}0{% endif %}</td>
              <td>{% if orders_all_date.total_quantity %}{{ orders_all_date.total_quantity }}{% else %}0{% endif %}</td>
            </tr>
          </tbody>

        </table>

        <table class="table">
          <tbody>

          </tbody>
          <tfoot>
            <tr>
              <td class="bg-success text-light fs-5">{% trans 'All sales' %}</td>
              <td class="bg-success text-light fs-5"><span>{{ order_all.total_sales | intcomma:False }}</span> {% trans 'Rial' %}</td>

              <td class="bg-success text-light fs-5">{% if order_all.total_quantity %}{{ order_all.total_quantity }}{% else %}0{% endif %}</td>
            </tr>

            <tr>
              <td>{% trans 'Approved sales' %}</td>
              <td><b>{{ order_approved.total_sales | intcomma:False }}</b> {% trans 'Rial' %}</td>
              <td>{% if order_approved.total_quantity %}{{ order_approved.total_quantity }}{% else %}0{% endif %}</td>
            </tr>
            <tr>
              <td>{% trans 'Draft sales' %}</td>
              <td><b>{{ order_draft.total_sales | intcomma:False }}</b> {% trans 'Rial' %}</td>
              <td>{% if order_draft.total_quantity %}{{ order_draft.total_quantity }}{% else %}0{% endif %}</td>
            </tr>
            <tr>
              <td></td>
              <td></td>
              <td></td>
            </tr>
            <tr>
              <td>{% trans 'Paid sales' %}</td>
              <td><b>{{ orders_paid_all.total | intcomma:False }}</b> {% trans 'Rial' %}</td>
              <td>{% if orders_paid_all.total_quantity %}{{ orders_paid_all.total_quantity }}{% else %}0{% endif %}</td>
            </tr>
            <tr>
              <td>{% trans 'Un-Paid sales' %}</td>
              <td><b>{{ orders_unpaid_all.total | intcomma:False }}</b> {% trans 'Rial' %}</td>
              <td>{% if orders_unpaid_all.total_quantity %}{{ orders_unpaid_all.total_quantity }}{% else %}0{% endif %}</td>
            </tr>

          </tfoot>
        </table>


        <h3 class="mt-5 border border-warning rounded p-2">{% trans 'Sales by product type' %}: {% if fa_date %}{{ fa_date}}{% endif %}</h3>
        <table class="table table-striped">
          <thead>

            <tr>
              <th>{% trans 'All in day' %}</th>
              <th>{% trans 'Quantity' %}</th>
              <th>{% trans 'Book' %}</th>
              <th>{% trans 'Quantity' %}</th>
              <th>{% trans 'Craft' %}</th>
              <th>{% trans 'Quantity' %}</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>{% if orderline_all_date.total %}{{ orderline_all_date.total | intcomma:False}}{% else %}0{% endif %}</td>
              <td>{% if orderline_all_date.total_quantity %}{{ orderline_all_date.total_quantity }}{% else %}0{% endif %}</td>
              <td>{% if orders_book_date.total %}{{ orders_book_date.total | intcomma:False}}{% else %}0{% endif %}</td>
              <td>{% if orders_book_date.total_quantity %}{{ orders_book_date.total_quantity }}{% else %}0{% endif %}</td>
              <td>{% if orders_craft_date.total %}{{ orders_craft_date.total | intcomma:False}}{% else %}0{% endif %}</td>
              <td>{% if orders_craft_date.total_quantity %}{{ orders_craft_date.total_quantity }}{% else %}0{% endif %}</td>
            </tr>

          </tbody>
        </table>
        <table class="table">

          <tfoot>
            <tr>
              <td class="bg-success text-light fs-5"><span>{% trans "All sales" %}</span></td>
              <td class="bg-success text-light fs-5"><span>{{ orderline_all.total | intcomma:False }}</span> {% trans 'Rial' %}</td>

              <td class="bg-success text-light fs-5">{% if orderline_all.total_quantity %}{{ orderline_all.total_quantity }}{% else %}0{% endif %}</td>
              <td class="bg-success text-light fs-5">{% if orders_new_books.total %}{% trans "New" %}{% else %}0{% endif %}</td>
              <td class="bg-success text-light fs-5"></td>
              <td class="bg-success text-light fs-5">{% if orders_new_books.total %}{% trans "Used" %}{% else %}0{% endif %}</td>
              <td class="bg-success text-light fs-5"></td>
            </tr>

            <tr>
              <td>{% trans 'Book sales' %}</td>
              <td><b>{{ orders_book.total | intcomma:False }}</b> {% trans 'Rial' %}</td>
              <td>{% if orders_book.total_quantity %}{{ orders_book.total_quantity }}{% else %}0{% endif %}</td>
              <td>{{ orders_new_books.total |intcomma:False }}</td>
              <td>{{ orders_new_books.total_quantity |intcomma:False }}</td>
              <td>{{ orders_used_books.total |intcomma:False }}</td>
              <td>{{ orders_used_books.total_quantity |intcomma:False }}</td>
            </tr>
            <tr>
              <td>{% trans 'Craft sales' %}</td>
              <td><b>{{ orders_craft.total | intcomma:False }}</b> {% trans 'Rial' %}</td>
              <td>{% if orders_craft.total_quantity %}{{ orders_craft.total_quantity }}{% else %}0{% endif %}</td>
            </tr>
          </tfoot>
        </table>
      </div>
      <!-- end of row  -->
      <div class="rowmt-5 row">
        <h3>{% trans 'Payment report Zarinpal' %}</h3>
        <table class=" table">
          <tbody>
            <tr>
              <td>{% trans 'paid' %}</td>
              <td>{{ paid.total_amount | intcomma:False }}</td>

            </tr>
            <tr>

              <td>{% trans 'pended' %}</td>
              <td> {{ pended.total_amount | intcomma:False }}</td>
            </tr>
          </tbody>
          <tfoot>
            <tr>
              <td>{% trans 'All payment:' %}</td>
              <td>{{all_payment.total_amount | intcomma:False }}</td>
            </tr>

          </tfoot>
        </table>
      </div>


    </div>
    <!-- end of column 10 -->

  </div>
  {% endblock %}
