{% extends "_base.html" %}

{% load i18n %}

{% load static %}

{% load humanize %}

{% load crispy_forms_tags %}

{% block title %}{% trans 'Reports' %}{% endblock %}

{% block reports-btn %}btn-secondary text-dark{% endblock %}

{% block content %}
<div class="container-fluid overflow-hidden">
  <div class="row">
    <div class="col-md-2">
      {% include "staff/sidebar_staff.html" with barName="reports" %}
    </div>
    <div class="col-md-10">
      <h2>{% trans 'Reports' %}</h2>
      <div class="">
        <p>
          {% trans 'Esfand' %}:
          <a href="{% url 'orders:sales_by_date' date='20032022' %}" class="btn btn-sm btn-outline-secondary">29</a>
          <a href="{% url 'orders:sales_by_date' date='19032022' %}" class="btn btn-sm btn-outline-secondary">28</a>
          <a href="{% url 'orders:sales_by_date' date='18032022' %}" class="btn btn-sm btn-outline-secondary">27</a>
          <a href="{% url 'orders:sales_by_date' date='17032022' %}" class="btn btn-sm btn-outline-secondary">26</a>
          <a href="{% url 'orders:sales_by_date' date='16032022' %}" class="btn btn-sm btn-outline-secondary">25</a>
          <a href="{% url 'orders:sales_by_date' date='15032022' %}" class="btn btn-sm btn-outline-secondary">24</a>
          <a href="{% url 'orders:sales_by_date' date='14032022' %}" class="btn btn-sm btn-outline-secondary">23</a>
          <a href="{% url 'orders:sales_by_date' date='13032022' %}" class="btn btn-sm btn-outline-secondary">22</a>
          <a href="{% url 'orders:sales_by_date' date='12032022' %}" class="btn btn-sm btn-outline-secondary">21</a>
          <a href="{% url 'orders:sales_by_date' date='11032022' %}" class="btn btn-sm btn-outline-secondary">20</a>
          <a href="{% url 'orders:sales_by_date' date='10032022' %}" class="btn btn-sm btn-outline-secondary">19</a>
          <a href="{% url 'orders:sales_by_date' date='09032022' %}" class="btn btn-sm btn-outline-secondary">18</a>
          <a href="{% url 'orders:sales_by_date' date='08032022' %}" class="btn btn-sm btn-outline-secondary">17</a>
          <a href="{% url 'orders:sales_by_date' date='07032022' %}" class="btn btn-sm btn-outline-secondary">16</a>
          <a href="{% url 'orders:sales_by_date' date='06032022' %}" class="btn btn-sm btn-outline-secondary">15</a>
          <a href="{% url 'orders:sales_by_date' date='05032022' %}" class="btn btn-sm btn-outline-secondary">14</a>
          <a href="{% url 'orders:sales_by_date' date='04032022' %}" class="btn btn-sm btn-outline-secondary">13</a>
          <a href="{% url 'orders:sales_by_date' date='03032022' %}" class="btn btn-sm btn-outline-secondary">12</a>
          <a href="{% url 'orders:sales_by_date' date='02032022' %}" class="btn btn-sm btn-outline-secondary">11</a>
          <a href="{% url 'orders:sales_by_date' date='01032022' %}" class="btn btn-sm btn-outline-secondary">10</a>
          <a href="{% url 'orders:sales_by_date' date='28022022' %}" class="btn btn-sm btn-outline-secondary">9</a>
          <a href="{% url 'orders:sales_by_date' date='27022022' %}" class="btn btn-sm btn-outline-secondary">8</a>
          <a href="{% url 'orders:sales_by_date' date='26022022' %}" class="btn btn-sm btn-outline-secondary">7</a>
          <a href="{% url 'orders:sales_by_date' date='25022022' %}" class="btn btn-sm btn-outline-secondary">6</a>
          <a href="{% url 'orders:sales_by_date' date='24022022' %}" class="btn btn-sm btn-outline-secondary">5</a>
          <a href="{% url 'orders:sales_by_date' date='23022022' %}" class="btn btn-sm btn-outline-secondary">4</a>
          <a href="{% url 'orders:sales_by_date' date='22022022' %}" class="btn btn-sm btn-outline-secondary">3</a>
          <a href="{% url 'orders:sales_by_date' date='21022022' %}" class="btn btn-sm btn-outline-secondary">2</a>
          <a href="{% url 'orders:sales_by_date' date='20022022' %}" class="btn btn-sm btn-outline-secondary">1</a>

        </p>
      </div>
      <div class="my-3 row">
        <h3 class="mt-3 border border-warning rounded p-2">{% trans 'Sales' %}: {{ fa_date}}</h3>
        <table class="table table-striped">
          <thead>

            <tr>`
              <th>{% trans 'Approved' %}</th>
              <th>{% trans 'Quantity' %}</th>
              <th>{% trans 'Draft' %}</th>
              <th>{% trans 'Quantity' %}</th>
              <th>{% trans 'All in day' %}</th>
              <th>{% trans 'Quantity' %}</th>

            </tr>
          </thead>
          <tbody>
            <tr>
              <td>{% if orders_approved_date.total %}{{ orders_approved_date.total | intcomma:False}}{% else %}0{% endif %}</td>
              <td>{% if orders_approved_date.total_quantity %}{{ orders_approved_date.total_quantity }}{% else %}0{% endif %}</td>
              <td>{% if orders_draft_date.total %}{{ orders_draft_date.total | intcomma:False}}{% else %}0{% endif %}</td>
              <td>{% if orders_draft_date.total_quantity %}{{ orders_draft_date.total_quantity }}{% else %}0{% endif %}</td>
              <td>{% if orders_all_date.total %}{{ orders_all_date.total | intcomma:False}}{% else %}0{% endif %}</td>
              <td>{% if orders_all_date.total_quantity %}{{ orders_all_date.total_quantity }}{% else %}0{% endif %}</td>

            </tr>
          </tbody>
        </table>
        <p></p>
        <table class="table table-responsive table-striped">

          <thead>
            <th>{% trans 'Paid' %}</th>
            <th>{% trans 'Quantity' %}</th>
            <th>{% trans 'Un-Paid' %}</th>
            <th>{% trans 'Quantity' %}</th>
            <th>{% trans 'All in day' %}</th>
            <th>{% trans 'Quantity' %}</th>
          </thead>
          <tbody>
            <tr>

              <td>{% if orders_paid_date.total %}{{ orders_paid_date.total | intcomma:False}}{% else %}0{% endif %}</td>
              <td>{% if orders_paid_date.total_quantity %}{{ orders_paid_date.total_quantity }}{% else %}0{% endif %}</td>
              <td>{% if orders_unpaid_date.total %}{{ orders_unpaid_date.total | intcomma:False}}{% else %}0{% endif %}</td>
              <td>{% if orders_unpaid_date.total_quantity %}{{ orders_unpaid_date.total_quantity }}{% else %}0{% endif %}</td>
              <td>{% if orders_all_date.total %}{{ orders_all_date.total | intcomma:False}}{% else %}0{% endif %}</td>
              <td>{% if orders_all_date.total_quantity %}{{ orders_all_date.total_quantity }}{% else %}0{% endif %}</td>
            </tr>
          </tbody>

        </table>

        <table class="table">
          <tbody>

          </tbody>
          <tfoot>
            <tr>
              <td class="bg-success text-light fs-5">{% trans 'All sales' %}</td>
              <td class="bg-success text-light fs-5"><span>{{ order_all.total_sales | intcomma:False }}</span> {% trans 'Rial' %}</td>

              <td class="bg-success text-light fs-5">{% if order_all.total_quantity %}{{ order_all.total_quantity }}{% else %}0{% endif %}</td>
            </tr>

            <tr>
              <td>{% trans 'Approved sales' %}</td>
              <td><b>{{ order_approved.total_sales | intcomma:False }}</b> {% trans 'Rial' %}</td>
              <td>{% if order_approved.total_quantity %}{{ order_approved.total_quantity }}{% else %}0{% endif %}</td>
            </tr>
            <tr>
              <td>{% trans 'Draft sales' %}</td>
              <td><b>{{ order_draft.total_sales | intcomma:False }}</b> {% trans 'Rial' %}</td>
              <td>{% if order_draft.total_quantity %}{{ order_draft.total_quantity }}{% else %}0{% endif %}</td>
            </tr>
            <tr>
              <td></td>
              <td></td>
              <td></td>
            </tr>
            <tr>
              <td>{% trans 'Paid sales' %}</td>
              <td><b>{{ orders_paid_all.total | intcomma:False }}</b> {% trans 'Rial' %}</td>
              <td>{% if orders_paid_all.total_quantity %}{{ orders_paid_all.total_quantity }}{% else %}0{% endif %}</td>
            </tr>
            <tr>
              <td>{% trans 'Un-Paid sales' %}</td>
              <td><b>{{ orders_unpaid_all.total | intcomma:False }}</b> {% trans 'Rial' %}</td>
              <td>{% if orders_unpaid_all.total_quantity %}{{ orders_unpaid_all.total_quantity }}{% else %}0{% endif %}</td>
            </tr>

          </tfoot>
        </table>


        <h3 class="mt-5 border border-warning rounded p-2">{% trans 'Sales by product type' %}: {{ fa_date}}</h3>
        <table class="table table-striped">
          <thead>

            <tr>
              <th>{% trans 'All in day' %}</th>
              <th>{% trans 'Quantity' %}</th>
              <th>{% trans 'Book' %}</th>
              <th>{% trans 'Quantity' %}</th>
              <th>{% trans 'Craft' %}</th>
              <th>{% trans 'Quantity' %}</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>{% if orderline_all_date.total %}{{ orderline_all_date.total | intcomma:False}}{% else %}0{% endif %}</td>
              <td>{% if orderline_all_date.total_quantity %}{{ orderline_all_date.total_quantity }}{% else %}0{% endif %}</td>
              <td>{% if orders_book_date.total %}{{ orders_book_date.total | intcomma:False}}{% else %}0{% endif %}</td>
              <td>{% if orders_book_date.total_quantity %}{{ orders_book_date.total_quantity }}{% else %}0{% endif %}</td>
              <td>{% if orders_craft_date.total %}{{ orders_craft_date.total | intcomma:False}}{% else %}0{% endif %}</td>
              <td>{% if orders_craft_date.total_quantity %}{{ orders_craft_date.total_quantity }}{% else %}0{% endif %}</td>
            </tr>

          </tbody>
        </table>
        <table class="table">

          <tfoot>
            <tr>
              <td class="bg-success text-light fs-5"><span>All sales</span></td>
              <td class="bg-success text-light fs-5"><span>{{ orderline_all.total | intcomma:False }}</span> {% trans 'Rial' %}</td>

              <td class="bg-success text-light fs-5">{% if orderline_all.total_quantity %}{{ orderline_all.total_quantity }}{% else %}0{% endif %}</td>
            </tr>

            <tr>
              <td>{% trans 'Book sales' %}</td>
              <td><b>{{ orders_book.total | intcomma:False }}</b> {% trans 'Rial' %}</td>
              <td>{% if orders_book.total_quantity %}{{ orders_book.total_quantity }}{% else %}0{% endif %}</td>
            </tr>
            <tr>
              <td>{% trans 'Craft sales' %}</td>
              <td><b>{{ orders_craft.total | intcomma:False }}</b> {% trans 'Rial' %}</td>
              <td>{% if orders_craft.total_quantity %}{{ orders_craft.total_quantity }}{% else %}0{% endif %}</td>
            </tr>
          </tfoot>
        </table>
      </div>
      <!-- end of row  -->
      <div class="rowmt-5 row">
        <h3>{% trans 'Payment report Zarinpal' %}</h3>
        <table class=" table">
          <tbody>
            <tr>
              <td>{% trans 'paid' %}</td>
              <td>{{ paid.total_amount | intcomma:False }}</td>

            </tr>
            <tr>

              <td>{% trans 'pended' %}</td>
              <td> {{ pended.total_amount | intcomma:False }}</td>
            </tr>
          </tbody>
          <tfoot>
            <tr>
              <td>{% trans 'All payment:' %}</td>
              <td>{{all_payment.total_amount | intcomma:False }}</td>
            </tr>

          </tfoot>
        </table>
      </div>


    </div>
    <!-- end of column 10 -->

  </div>
  {% endblock %}
